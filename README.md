# THESIMPLETOWERDEFENSE

- 웹소켓을 이용한 멀티 플레이 타워 디펜스 게임

## 기능

### 회원가입 / 로그인

![image](https://github.com/user-attachments/assets/7b86e4b8-9a4e-4a76-a54d-15a7d94ff9f7)

- 서버에 접속하게 되면 회원가입/ 로그인 가능한 창으로 이동하게 됩니다

#### 회원가입

![image](https://github.com/user-attachments/assets/ba9ff81d-5dff-42f4-a508-d57ebc180eeb)

- 처음 접속한 유저는 회원가입을 통해 DB에 유저 정보를 저장해둘 수 있습니다!

- 회원가입 시 아이디와 비밀번호는 입력 조건을 만족하여야 합니다

- 만족하지 못할 시 서버에서 관련 오류를 유저에게 보여주게됩니다

![image](https://github.com/user-attachments/assets/0ae93d17-77d5-4a6b-9419-88a30b0ec4a5)

#### 로그인

![image](https://github.com/user-attachments/assets/bd39b005-1813-4675-9148-2ef7a92f0996)

- 회원가입 성공 및 메인화면에서 로그인 클릭시 이동되는 화면으로

- DB에 저장된 유저 정보와 일치할 시에만 로그인에 성공하게 되며 로비로 이동합니다!

### 멀티 플레이 요소

![image](https://github.com/user-attachments/assets/4670cf22-1ec0-4b32-a5d3-587575fb5d03)

- 로그인에 성공하면 로비에 이동하게 됩니다!

- 여기서는 자신의 정보와 DB에 저장된 랭킹 순위 TOP 10 까지 보여지게 됩니다!

#### 방

- 멀티 플레이를 위해 "방" 개념을 사용합니다

- 유저는 방을 생성하거나 만들어진 방을 확인하여 입장할 수 있습니다

- 방에 있는 유저들은 채팅을 통해 서로 소통할 수 있습니다!  
(하지만 서버에서 검열을 진행하여 부적절(?)한 채팅은 전달되지 않습니다)

![image](https://github.com/user-attachments/assets/57b49cb6-9cbb-4c15-878e-8d1d5725ab07)

![image](https://github.com/user-attachments/assets/8171114f-42d6-423e-9040-03ce77750ea1)

> 추가로 방을 생성한 인원은 참여자를 강퇴시킬 수 있으며,  
방을 나가면 방이 서버에서 제거 되게 됩니디  
( 연결이 끊어져도 똑같이 작동되게 됩니다 )

- 참여자가 준비를 하면 호스트는 게임을 시작할 수 있으며, 참여자가 준비되어 있지 않으면 게임이 실행되지 않습니다!

- 또한 게임 진행 중 참여자 중 한 명이라도 나가게될 경우, 방이 사라지며 게임이 종료됩니다.

### 게임 플레이 요소

![image](https://github.com/user-attachments/assets/7d65c46c-d1f6-48ca-90d7-e7486d9c018c)

- 게임이 시작되면 서버에서 보낸 값을 통해 몬스터들이 생성됩니다

- 플레이어는 타워를 설치해 몬스터들을 제거할 수 있습니다!

- 만약 몬스터들의 수가 아래의 게이지가 찰 정도로 증가하면 엔드타이머가 줄어들며 0이되면 게임이 종료 됩니다

![image](https://github.com/user-attachments/assets/a233245b-8be7-472e-8b0e-0db9e50a1f27)

- 방 생성 시 난이도를 조절하여 엔드타이머와 최대 몬스터 수를 조절할 수 있습니다!

- 게임이 종료되면 최종 점수가 DB에 저장되어 랭킹 및 유저 정보에 반영되게 됩니다

#### 몬스터

- 몬스터 들은 서버에서 시뮬레이션을 통해 위치정보가 변경되며 이를 특정 프레임마다 클라이언트에게 보내주게 됩니다

- 이 때 서버는 방 참가 시에 적용된 socket.join("roomId")으로 클라이언트를 특정합니다!

- 몬스터는 타워에게 피격당할 시 이펙트가 생성되며 1초간 슬로우가 적용됩니다.

- 몬스터가 사망 시에도 특정 이펙트를 통해 사용자 경험을 높였습니다.

- 몬스터 사망 시 각 유저들에게 200의 골드와 방에 점수를 부여합니다.

![image](https://github.com/user-attachments/assets/99a0a08f-0a06-4fad-96dd-2cb84d4e513d)

#### 타워

- 서버에선 몬스터<>타워의 시뮬레이션을 통해 몬스터의 피격/죽음을 클라이언트에게 전달합니다

- 타워는 각 그리드 (주황색)에서 호스트(왼쪽), 참여자(오른쪽) 에 따라 설치가능한 공간이 나뉘어져 있습니다.  
( 가격은 100골드 입니다 )

- 타워에는 티어가 있으며 동일한 타입(단일, 다중, 범위)의 타워를 드래그하여 합치면 티어가 올라갑니다!

- 티어가 올라가면 여러 스탯들이 증가하여 몬스터 수를 조절하기 좋습니다!

- 또한 타입에 따른 강화를 통해 특정 타입의 타워가 강화됩니다!

## 동기화 정보

- 방 정보를 서버에서 관리하여 클라이언트에게 전달합니다.

- 몬스터의 생성, 제거, 이동을 서버에서 조절하여 클라이언트에게 전달합니다

- 타워의 공격 시뮬레이션을 서버에서 판정하여 클라이언트에게 전달합니다  
( 전달 받은 클라이언트는 공격한 타워와 공격당한 몬스터를 전달받아 공격경로를 그려줍니다 )